<u-main-view>
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <u-page-title title="REPORTSLIST">
        </u-page-title>

        <div class="u-reports-box col-lg-12 col-md-12 col-sm-12 col-xs-12">

            <div class="panel-heading col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <button class="u-btn-filter no-pad col-lg-1 col-md-1 col-sm-1 col-xs-1" ng-click="vm.isFiltered = !vm.isFiltered">
                    <i class="glyphicon glyphicon-filter"></i>
                </button>
                <input class="u-report-filter-input col-lg-10 col-md-10 col-sm-10 col-xs-10" ng-show="vm.isFiltered" type="text" placeholder="{{'REPORTFILTER' | translate }}" ng-model="vm.filterQuery">
            </div>

            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>{{'REPORTNUMBER'| translate}}</th>
                        <th>{{'REQUESTNUMBER'| translate}}</th>
                        <th>{{'TYPE'| translate}}</th>
                        <th>{{'USERNAME'| translate}}</th>
                        <th>{{'REQUESTDATE'| translate}}</th>
                        <th>{{'REPORTMOTIV'| translate}}</th>
                        <th>{{'ACTIONS'|translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="report in vm.reportsList | filter : (vm.isFiltered ? vm.filterQuery : '') ">
                         
                        <td>{{report.id}}</td>
                        <td>{{report.item_id}}</td>
                        <td>{{report.type}}</td>
                        <td>{{report.user_name}}</td>
                        <td>{{report.date}}</td>
                        <td>{{report.message}}</td>
                        <td>
                            <!-- AJOUTER LE LIEN POUR VOIR UNE DEMANDE -->
                            <button class="u-btn-view" ng-click="vm.viewItem(report.type, report.item_id)"><i class="glyphicon glyphicon-eye-open"></i></button>
                            <button class="u-btn-unreport" ng-click="vm.notAReportAnymore(report.id)"><i class="glyphicon glyphicon-ok-sign"></i></button>
                            <button class="u-btn-delete" ng-click="vm.deleteItem(report.item_id, report.type, report.id)"><i class="glyphicon glyphicon-remove-sign"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</u-main-view>